<%= form_with(model: student, local: true) do |form| %>
  <% if student.errors.any? %>
    <div class="notification is-warning content" id="error_explanation">
      <h2 class="subtitle"><%= pluralize(student.errors.count, "error") %> prohibited this student from being saved:</h2>

      <div class="content">
        <ul>
        <% student.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :name, class: 'label' %>
    <div class="control">
      <%= form.text_field :name, class: 'input', required: true, max: 200 %>
    </div>
  </div>

  <div class="field">
    <%= form.label :lesson_part, 'Current Lesson', class: 'label' %>
    <div class="control">
      <div class="select">
        <%= form.grouped_collection_select :lesson_part_id, lessons, :parts, :display_number, :id, :display_number, include_blank: "No Current Lesson" %>
      </div>
    </div>
  </div>

  <div class="field is-grouped">
    <div class="control">
      <%= form.submit class: 'button is-link' %>
    </div>
    <div class="control">
      <%= link_to 'Back', students_path, class: 'button is-light' %>
    </div>
  </div>
<% end %>
